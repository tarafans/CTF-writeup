/* magic number */
#define NOTE_MAGIC  0xdeadbeef
#define EDIT_TIME   0xa11ab11bc11cd11d
#define EDIT_NOTE   0x1ee12ee23ee34ee4

/* knote functions */
#define NOTE_CMD 0x1337
#define NOTE_ADD (NOTE_CMD + 0)
#define NOTE_DELETE (NOTE_CMD + 1)
#define NOTE_READ (NOTE_CMD + 2)
#define NOTE_EDIT (NOTE_CMD + 3)
#define NOTE_LIST (NOTE_CMD + 4)

/* consts */
#define BUFFER_SIZE 1024
#define STRUCT_LEN (0x58 - 0x30)

struct date_t {
	unsigned long year, month, day;
	unsigned long h, m, s;
};

struct note_io_t {
	struct date_t date;
	unsigned long buf_size;
    void *buf; 
};

struct delete_io_t {
	unsigned long magic;
	struct date_t date;
};

struct read_io_t {
	unsigned long magic;
	struct date_t date;
	unsigned long buf_size;
	void *buf;
};

struct time_io_t {
    unsigned long cmd;
	unsigned long magic;
	struct date_t date;
	struct date_t new_date;
};

struct buf_io_t {
	unsigned long cmd;
    unsigned long magic;
	struct date_t date;
	unsigned long buf_size;
    void *buf;
};

#define TTY_MAGIC 0x5401
typedef struct {
	int counter;
} atomic_t;

struct kref {
	atomic_t refcount;
};

struct tty_struct_header {
	int magic;
	struct kref kref;
	void *dev;
	void *driver;
	void *ops;
};

